<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8" />
<title>Pizza AR Viewer</title>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<style>
  body{
    margin:0;
    background:#fff;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }

  #start-screen {
    position:absolute;
    top:0; left:0;
    width:100vw; height:100vh;
    background:white;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:22px;
    font-weight:600;
    cursor:pointer;
    z-index:10;
  }

  model-viewer {
    width:100vw;
    height:100vh;
  }
</style>
</head>

<body>

<div id="start-screen">Tap to view in AR</div>

<model-viewer id="viewer"
  src="0869c8ddd2bc40adbabe87203549ead5.glb"
  ios-src="0869c8ddd2bc40adbabe87203549ead5.usdz"
  ar
  ar-modes="webxr scene-viewer quick-look"
  camera-controls
  shadow-intensity="1"
  exposure="1.2">
</model-viewer>

<script>
const viewer = document.querySelector("#viewer");
const startScreen = document.querySelector("#start-screen");

// When user taps the screen, auto start AR
startScreen.addEventListener("click", async () => {
  startScreen.style.display = "none";

  // If WebXR AR is available (Android), launch instantly:
  if (viewer.canActivateAR) {
    viewer.activateAR();
    return;
  }

  // Otherwise fallback â†’ Quick Look (iPhone) or Scene Viewer (Android)
  viewer.dispatchEvent(new CustomEvent('ar-trigger'));
});
</script>

</body>
</html>
